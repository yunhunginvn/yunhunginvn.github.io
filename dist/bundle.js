!function(e){var t={};function i(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class o{constructor(e){this.refPageMgr=e,this.dom=document.getElementById("nav"),this.dom.querySelector(".nav-btn-left").addEventListener("click",e=>this.refPageMgr.moveBack()),this.dom.querySelector(".nav-btn-right").addEventListener("click",e=>this.refPageMgr.moveTo("home")),this.title=this.dom.querySelector(".nav-title")}setTitle(e){this.title.innerText=e}show(){return this.dom.classList.remove("hide"),this}hide(){return this.dom.classList+=" hide",this}}class c{constructor(e){this.refPageMgr=e}setInstance(e){this.instance=e}getInstance(){return this.instance}init(){}render(){}componentWillMount(){}componentDidMount(){}}const a={addControlButton(e,t,i){let o=document.createElement("li");o.innerText=t,o.addEventListener("click",e=>{e.preventDefault(),i(e)}),e.appendChild(o)},addCollectionButton(e,t,i,o){let c=document.createElement("p");c.innerText=t;let a=document.createElement("img");a.src=i;let s=document.createElement("li");s.appendChild(a),s.appendChild(c),s.addEventListener("click",e=>{e.preventDefault(),o(e)}),e.appendChild(s)}};var s=function(...e){class t extends c{}for(const i of e)t.prototype[i]=a[i];return t}("addControlButton","addCollectionButton");class d extends s{constructor(e){super(e)}init(){let e=this.refPageMgr.pageId(),t=this.instance.querySelector("ul");this.addControlButton(t,"Flashcard",()=>this.refPageMgr.moveTo(e.FC_COLLECTION)),this.addControlButton(t,"My Board",()=>this.refPageMgr.moveTo("myboard")),this.addControlButton(t,"Search",()=>this.refPageMgr.moveTo("search")),this.addControlButton(t,"Author",()=>this.refPageMgr.moveTo("author"))}componentWillMount(){this.refPageMgr.hideNav()}}class n{constructor(){this.flashcard=[{name:"Animal",groups:[{name:"Bird",voca:[55,56,57,58],id:0},{name:"In the water",voca:[52,53,54],id:1},{name:"On the land",voca:[50,51],id:2},{name:"Others",voca:[59,60,61],id:3},{name:"Zodiac",voca:[39,40,41,42,43,44,45,46,47,48,49],id:4}],id:0},{name:"Clothes",groups:[{name:"Body",voca:[],id:0},{name:"Feet",voca:[],id:1},{name:"Hand",voca:[4],id:2},{name:"Head",voca:[2,3],id:3},{name:"Others",voca:[5,6,7],id:4}],id:1},{name:"Food",groups:[{name:"Dairy",voca:[112,113,114,115],id:0},{name:"Fruits",voca:[96,97,98,99,100,101,102,103,104,105,106],id:1},{name:"Grains",voca:[116,117,118,119],id:2},{name:"Oils",voca:[120,121],id:3},{name:"Others",voca:[8],id:4},{name:"Protein",voca:[111],id:5},{name:"Transportation",voca:[107,108,109,110],id:6},{name:"Vegetables",voca:[],id:7}],id:2},{name:"House",groups:[{name:"balcony items",voca:[95],id:0},{name:"bathroom items",voca:[90],id:1},{name:"bedroom items",voca:[72,73,74,75,76,77],id:2},{name:"componenets",voca:[69,70,71],id:3},{name:"dining room items",voca:[88,89],id:4},{name:"kitchen items",voca:[81,82,83,84,85,86,87],id:5},{name:"living room items",voca:[78,79,80],id:6},{name:"room",voca:[62,63,64,65,66,67,68],id:7},{name:"work room items",voca:[91,92,93,94],id:8}],id:3},{name:"Occupation",groups:[{name:"Artist",voca:[21,22,23,24],id:0},{name:"Company",voca:[15,16,17,18,19,20],id:1},{name:"Government",voca:[13,14],id:2},{name:"Hospital",voca:[11,12],id:3},{name:"Others",voca:[32,33,34,35,36,37,38],id:4},{name:"Professional",voca:[28,29,30,31],id:5},{name:"School",voca:[9,10],id:6},{name:"Transportation",voca:[25,26,27],id:7}],id:4},{name:"Others",groups:[{name:"New",voca:[0],id:0}],id:5},{name:"Others",groups:[{name:"Preposition",voca:[1],id:0}],id:6},{name:"Transportation",groups:[{name:"bus",voca:[122,123,124,125],id:0}],id:7},{name:"Weather",groups:[],id:8}],this.vocaDict={0:{id:0,voca:"công viên",desc:"park"},1:{id:1,voca:"với",desc:"with"},2:{id:2,voca:"cái kính",desc:"glasses"},3:{id:3,voca:"cái mũ",desc:"hat"},4:{id:4,voca:"cái đồng hồ",desc:"clock"},5:{id:5,voca:"cái đồng hồ",desc:"clock"},6:{id:6,voca:"cái đồng hồ treo tương",desc:"analogue clock, 掛鐘"},7:{id:7,voca:"cái đồng hồ deo tay",desc:"watch, 手錶"},8:{id:8,voca:"xôi",desc:"sticky rice"},9:{id:9,voca:"giáo viên",desc:"teacher"},10:{id:10,voca:"sinh viên",desc:"student"},11:{id:11,voca:"bác sĩ",desc:"doctor"},12:{id:12,voca:"y tá",desc:"nurse"},13:{id:13,voca:"cảnh sát",desc:"cop"},14:{id:14,voca:"công an",desc:"police"},15:{id:15,voca:"giám đốc",desc:"manager"},16:{id:16,voca:"thư ký",desc:"secretary"},17:{id:17,voca:"kế toán",desc:"accountant"},18:{id:18,voca:"công nhân",desc:"worker"},19:{id:19,voca:"nhân viên",desc:"employee"},20:{id:20,voca:"sếp",desc:"boss"},21:{id:21,voca:"hoạ sĩ",desc:"painter"},22:{id:22,voca:"ca sĩ",desc:"singer"},23:{id:23,voca:"nhạc sĩ",desc:"musician"},24:{id:24,voca:"điễn viên",desc:"actor"},25:{id:25,voca:"phi ông",desc:"pilot"},26:{id:26,voca:"tiếp viên hàng không",desc:"flight attendant"},27:{id:27,voca:"lái xe",desc:"driver"},28:{id:28,voca:"kỹ sư",desc:"engineer"},29:{id:29,voca:"kiến trúc sư",desc:"architect"},30:{id:30,voca:"luật sư",desc:"lawyer"},31:{id:31,voca:"lập trình viên",desc:"programmer"},32:{id:32,voca:"nông dân",desc:"farmer"},33:{id:33,voca:"nhà báo",desc:"journalist"},34:{id:34,voca:"nội trợ",desc:"housewife"},35:{id:35,voca:"biên tập viên",desc:"editor"},36:{id:36,voca:"thương gia",desc:"trader"},37:{id:37,voca:"thương nhân",desc:"businessman"},38:{id:38,voca:"nhà tạo mẫu móng tay",desc:"nail designer"},39:{id:39,voca:"con trầu",desc:"baffalo"},40:{id:40,voca:"con hổ",desc:"tiger"},41:{id:41,voca:"con mèo",desc:"cat"},42:{id:42,voca:"con rồng",desc:"dragon"},43:{id:43,voca:"con rắn",desc:"snake"},44:{id:44,voca:"con ngựa",desc:"horse"},45:{id:45,voca:"con dê",desc:"goat"},46:{id:46,voca:"con khỉ",desc:"monkey"},47:{id:47,voca:"con gà trống",desc:"rooster"},48:{id:48,voca:"con chò",desc:"dog"},49:{id:49,voca:"con lơn",desc:"pig"},50:{id:50,voca:"con bò",desc:"cow"},51:{id:51,voca:"con voi",desc:"elephant"},52:{id:52,voca:"con cá",desc:"fish"},53:{id:53,voca:"con tôm",desc:"shrimp"},54:{id:54,voca:"con cá heo",desc:"dolphin"},55:{id:55,voca:"con chim",desc:"bird"},56:{id:56,voca:"con vịt",desc:"duck"},57:{id:57,voca:"con cà trống",desc:"rooster, 公雞"},58:{id:58,voca:"con cà mái",desc:"hen, 母雞"},59:{id:59,voca:"con nhện",desc:"spider"},60:{id:60,voca:"con gián",desc:"cockroach"},61:{id:61,voca:"con thạch sùng",desc:"gecko, 壁虎"},62:{id:62,voca:"phòng ngủ",desc:"bedroom"},63:{id:63,voca:"phòng khách",desc:"living room"},64:{id:64,voca:"phòng bếp",desc:"kitchen"},65:{id:65,voca:"phòng ăn",desc:"dining room"},66:{id:66,voca:"phòng làm việc",desc:"work room"},67:{id:67,voca:"phòng tắm",desc:"bathroom"},68:{id:68,voca:"phòng vệ sinh\nnhà vệ sinh",desc:"toilet"},69:{id:69,voca:"ban công",desc:"balcony"},70:{id:70,voca:"cửa",desc:"door"},71:{id:71,voca:"cửa ra vào",desc:"entry"},72:{id:72,voca:"giường",desc:"bed"},73:{id:73,voca:"đèn ngủ",desc:"lamp"},74:{id:74,voca:"quạt",desc:"fan"},75:{id:75,voca:"tủ quần áo",desc:"wardrobe"},76:{id:76,voca:"điều hòa nhiệt độ",desc:"air conditioner"},77:{id:77,voca:"gương",desc:"mirror"},78:{id:78,voca:"cái ghế sô pha",desc:"sofa"},79:{id:79,voca:"cái tivi",desc:"TV"},80:{id:80,voca:"cái lọ hoa",desc:"vase,  花瓶"},81:{id:81,voca:"cái nồi",desc:"cooking pot"},82:{id:82,voca:"cái tủ bếp",desc:"kitchen cabinet"},83:{id:83,voca:"cái bếp ga",desc:"gas stove"},84:{id:84,voca:"cái bếp tư",desc:"electric stove"},85:{id:85,voca:"cái đĩa",desc:"plate"},86:{id:86,voca:"cái bát",desc:"bowl"},87:{id:87,voca:"cái tủ lạnh",desc:"fridge, refrigerator"},88:{id:88,voca:"cái bàn",desc:"table"},89:{id:89,voca:"cái ghế",desc:"chair"},90:{id:90,voca:"toa lét",desc:"toilet"},91:{id:91,voca:"máy vi tính",desc:"computer"},92:{id:92,voca:"quả địa cầu",desc:"globe, 地球儀"},93:{id:93,voca:"tủ sách",desc:"bookcase"},94:{id:94,voca:"giá sách",desc:"bookshelves"},95:{id:95,voca:"máy giặt",desc:"washing machine"},96:{id:96,voca:"quả xoài",desc:"mango"},97:{id:97,voca:"quả chuối",desc:"banana"},98:{id:98,voca:"quả cam",desc:"orange"},99:{id:99,voca:"quả táo",desc:"apple"},100:{id:100,voca:"quả dưa",desc:"melon"},101:{id:101,voca:"quả dưa hấu",desc:"watermelon"},102:{id:102,voca:"quả dưa chuột",desc:"cucumber"},103:{id:103,voca:"quả dứa",desc:"pineapple"},104:{id:104,voca:"quả dừa",desc:"coconut"},105:{id:105,voca:"quả thanh long",desc:"dragon fruit"},106:{id:106,voca:"quả cà chua",desc:"tomato"},107:{id:107,voca:"củ cà rốt",desc:"carrot"},108:{id:108,voca:"củ gừng",desc:"ginger"},109:{id:109,voca:"củ khoai tây",desc:"potato"},110:{id:110,voca:"củ khoai lang",desc:"sweet potato"},111:{id:111,voca:"quả trứng",desc:"eggs"},112:{id:112,voca:"sữa",desc:"milk"},113:{id:113,voca:"sữa chua",desc:"yogurt"},114:{id:114,voca:"phô mai",desc:"cheese"},115:{id:115,voca:"kem",desc:"ice cream"},116:{id:116,voca:"cơm",desc:"rice"},117:{id:117,voca:"lúa mì",desc:"wheat, 小麥"},118:{id:118,voca:"lúa mạch",desc:"barley, 大麥"},119:{id:119,voca:"ngô",desc:"corn"},120:{id:120,voca:"dầu",desc:"oil"},121:{id:121,voca:"ôliu",desc:"olive, 橄欖"},122:{id:122,voca:"cửa xuống",desc:"door down"},123:{id:123,voca:"điểm dừng xe buýt",desc:"bus stop"},124:{id:124,voca:"bến xe khách",desc:"bus station"},125:{id:125,voca:"cửa thoát khẩn cấp",desc:"emergency exit"}}}}let r=null;function h(){return null===r&&(r=new n),r}class v extends s{constructor(e){super(e),this.title="Flashcard Collection"}init(){this.content=this.instance.querySelector(".collection-list")}componentWillMount(){this.refPageMgr.setNavTitle(this.title).showNav()}render(){this.content.innerHTML="",h().flashcard.forEach(e=>{this.addCollectionButton(this.content,e.name,"assets/img/logo.png",()=>{this.refPageMgr.setCurrPageInfo({collectionId:e.id}).moveTo(this.refPageMgr.pageId().FC_GROUP)})})}}class g extends s{constructor(e){super(e),this.title="Flashcard Group"}init(){this.content=this.instance.querySelector(".collection-list")}componentWillMount(){this.cId=this.refPageMgr.getCurrPageInfo().collectionId;let e=h().flashcard[this.cId].name;this.refPageMgr.setNavTitle(e).showNav()}render(){this.content.innerHTML="";let e=h().flashcard;e[this.cId]&&e[this.cId].groups.forEach(e=>{this.addCollectionButton(this.content,e.name,"assets/img/logo.png",()=>{this.refPageMgr.setCurrPageInfo({groupId:e.id}).moveTo(this.refPageMgr.pageId().FC_SANDBOK)})})}}const l=0,u=1;class m extends s{constructor(e){super(e),this.title="Flashcard Sandbox",this.history=[],this.cards=[],this.cId=0,this.gId=0,this.currHistoryIdx=0,this.currCardIdx=0,this.mode=u}init(){this.refPageMgr.pageId();let e=this.instance.querySelector("ul");this.addControlButton(e,"PREV",e=>this.prev()),this.addControlButton(e,"NEXT",e=>this.next()),this.addControlButton(e,"MARK",e=>console.log("MARK as unfamiliar")),this.addControlButton(e,"SEQU",e=>this.toggleMode(e)),this.instance.querySelector(".card").addEventListener("click",e=>{this.playSound(this.getCurrCard().voca)})}componentWillMount(){let e=this.refPageMgr.getCurrPageInfo(),t=h().flashcard[e.collectionId].groups[e.groupId];this.cId=e.collectionId,this.gId=e.groupId,this.cards=t.voca;let i=this.cards[0],o=h().vocaDict[i];this.history=[],this.setCard(o),this.addToHistory(o),this.refPageMgr.setNavTitle(t.name).showNav()}next(){let e=this.getNextCard();this.setCard(e),this.addToHistory(e)}prev(){let e=this.getPrevCard();this.setCard(e)}addToHistory(e){this.history.push(e),this.currHistoryIdx=this.history.length-1}setCard(e){let t=this.instance.querySelector(".card");t.querySelector("p.voca").innerText=e.voca,t.querySelector("p.desc").innerText=e.desc}getCard(e){return h().vocaDict[e]}getCurrCard(){return this.history[this.currHistoryIdx]}getNextCard(){return this.mode===l?this.getRandomCard():this.mode===u?this.getNextOrderCard():void 0}getPrevCard(){return this.currHistoryIdx-1>=0?(this.currHistoryIdx--,this.history[this.currHistoryIdx]):this.history[0]}getRandomCard(){return this.currCardIdx=Math.floor(Math.random()*this.cards.length),this.getCard(this.cards[this.currCardIdx])}getNextOrderCard(){return this.currCardIdx++,this.currCardIdx>=this.cards.length&&(this.currCardIdx=0),this.getCard(this.cards[this.currCardIdx])}toggleMode(e){this.mode=this.mode===u?l:u,e.target.innerText=this.mode===u?"SEQU":"RAND"}playSound(e){var t=window.location.origin+`/assets/audio/${e}.mp3`;this.buildAudioLoader(t)}buildAudioLoader(e){let t=new XMLHttpRequest;t.open("GET",e),t.responseType="arraybuffer",t.addEventListener("load",()=>{p.decodeAudioData(t.response).then(f)}),t.send()}}let p=new(window.AudioContext||window.webkitAudioContext),f=e=>{let t=p.createBufferSource();t.buffer=e,t.connect(p.destination),t.loop=!1,t.start()};const C={HOME:"home",FC_COLLECTION:"flashcard-collection",FC_GROUP:"flashcard-group",FC_SANDBOK:"flashcard-sandbox"};class y{constructor(){this.navigation=new o(this),this.history=[],this._currPageInfo={},this.pageMapping=new Map,this.pageMapping.set(C.HOME,new d(this)),this.pageMapping.set(C.FC_COLLECTION,new v(this)),this.pageMapping.set(C.FC_GROUP,new g(this)),this.pageMapping.set(C.FC_SANDBOK,new m(this))}register(e,t){let i=this.pageMapping.get(e);i&&i.setInstance(t)}getPageObject(e){return this.pageMapping.get(e)}initPages(){this.pageMapping.forEach(e=>e.init())}getCurrPageInfo(){return this._currPageInfo}setCurrPageInfo(e){return Object.assign(this._currPageInfo,e),this}emptyCurrPageInfo(){return this._currPageInfo={},this}pageId(){return C}moveTo(e){this._activePage(e),this.history.push(e)}moveBack(){this.history.pop(),this._activePage(this.history[this.history.length-1])}_activePage(e){let t=this.getPageObject(e);t.componentWillMount(),t.render(),this.pageMapping.forEach((t,i)=>{i===e?t.getInstance().classList+=" active":t.getInstance().classList.remove("active")}),t.componentDidMount()}setNavTitle(e){return this.navigation.setTitle(e),this}showNav(){return this.navigation.show(),this}hideNav(){return this.navigation.hide(),this}}let b=null;let I=(null===b&&(b=new y),b);document.querySelectorAll(".page").forEach(e=>{let t=e.getAttribute("page-id");I.register(t,e)}),I.initPages(),I.moveTo("home")}]);